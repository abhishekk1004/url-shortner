{% extends "base.html" %}
{% block content %}

<h2>‚úÖ 2FA Enabled Successfully!</h2>

<div style="background-color: #d4edda; border: 1px solid #c3e6cb; border-radius: 4px; padding: 15px; margin: 20px 0;">
    <p style="color: #155724; margin: 0;"><strong>Your two-factor authentication has been enabled.</strong></p>
</div>

<div style="background-color: #fff3cd; border: 1px solid #ffc107; border-radius: 4px; padding: 15px; margin: 20px 0;">
    <h3 style="margin-top: 0;">Save Your Backup Codes</h3>
    <p>If you lose access to your authenticator app, you can use these backup codes to log in. Each code can only be used once.</p>
    
    <p><strong>‚ö†Ô∏è IMPORTANT: Save these codes in a safe place! You won't see them again.</strong></p>
</div>

<div style="background-color: #f8f9fa; padding: 20px; border-radius: 8px; margin: 20px 0; font-family: monospace; line-height: 2;">
    {% for code in backup_codes %}
        <div>{{ code }}</div>
    {% endfor %}
</div>

<div style="margin: 20px 0;">
    <button onclick="copyBackupCodes()" style="padding: 10px 20px; background-color: #007bff; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">üìã Copy Codes</button>
    
    <button onclick="printBackupCodes()" style="padding: 10px 20px; background-color: #17a2b8; color: white; border: none; border-radius: 4px; cursor: pointer; margin-right: 10px;">üñ®Ô∏è Print</button>
    
    <a href="{% url 'settings' %}" style="padding: 10px 20px; background-color: #28a745; color: white; text-decoration: none; border-radius: 4px; display: inline-block;">‚úì Done</a>
</div>

<script>
function copyBackupCodes() {
    const codes = `{% for code in backup_codes %}{{ code }}\n{% endfor %}`;
    navigator.clipboard.writeText(codes).then(function() {
        alert('Backup codes copied to clipboard!');
    });
}

function printBackupCodes() {
    window.print();
}
</script>

<style>
    @media print {
        button, a[href="{% url 'settings' %}"] {
            display: none;
        }
        h1, .alert {
            display: none;
        }
    }
</style>

{% endblock %}
